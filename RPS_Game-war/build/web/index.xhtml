<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Rock Paper Scissors</title>
    </h:head>
    <h:body>
        
        <b:navBar brand="Rock Paper Scissors in EJB" brandHref="index.xhtml" inverse="true">
            <b:navbarLinks>
                <b:navLink value="Home" href="index.xhtml"></b:navLink>
                <b:navLink value="Game" href="game.xhtml"></b:navLink>
                <b:navLink value="Account:#{LoginView.loggedUsername}" href="account.xhtml"></b:navLink>
                <b:navLink value="" href=""><h:form><h:commandButton action="#{LoginView.logout}" value="Logout"/></h:form></b:navLink>
                
                
                <b:navLink value="Number of users logged in: "><h:outputText value="#{LoginView.numberOfPlayers}"/></b:navLink>
            </b:navbarLinks>
        </b:navBar>
        
        <b:well>
            <h3>Rock Paper Scissors</h3>
        </b:well>
        
        <h:outputText value="#{LoginView.message}"/>
        <h:outputText value="#{RegisterView.message}"/>
        
        <b:panelGrid colSpans="4,4,4" size="xs">
            <b:panel look="info" title="Login" collapsible="false">
                <f:view>
                    <h:form>
                        <h:outputLabel value="Username: "/><h:inputText value="#{LoginView.player.username}"/> <br/>
                    <h:outputLabel value="Password: "/><h:inputSecret value="#{LoginView.player.password    }"/> <br/> <br/>
                    <h:commandButton action="#{LoginView.postPlayer}" value="Login"/>
                    </h:form>
                </f:view>
            </b:panel>

            <b:panel look="info" title="Register" collapsible="false">
                <f:view>
                <h:form>
                <h:outputLabel value="Username: "/><h:inputText value="#{RegisterView.player.username}"/> <br/>
                <h:outputLabel value="Password: "/><h:inputSecret value="#{RegisterView.player.password    }"/> <br/> <br/>
                <h:commandButton action="#{RegisterView.postPlayerRegister}" value="Create User"/>
                </h:form>
                </f:view>
           </b:panel>
            
            <b:panel look="info" title="Online users" collapsible="false">
                <ul>
                    <ui:repeat value="#{LoginView.usersOnline}" var="username">
                        <li>
                            #{username}
                        </li>
                    </ui:repeat>
                </ul>
           </b:panel>
        </b:panelGrid>
            
    </h:body>
</html>